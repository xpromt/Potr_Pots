{"version":3,"sources":["scripts/main.js"],"names":["wrapper","document","querySelector","basketImg","basket","menuBasket","basketClose","largePotOrder","largeAdd","largeRemove","largeDelete","largePrice","largeSum","basketSum","menuBasketNumb","checkoutButton","checkoutPage","checkoutClose","textContent","dataset","number","checkoutAmount","checkoutSubmit","succesfullPayment","getElementById","inputsCheckout","querySelectorAll","succesfullClose","checkoutForm","homePageButton","benefitsButton","materialsOpen","aboutBobbiny","openingPage","page","classList","add","closingPage","remove","findValues","sum","smallSum","toFixed","smallPotOrder","quantity","amount","letCalcOrder","x","y","documentElement","scrollWidth","order","price","setAttribute","removeAttribute","addEventListener","ev","smallAdd","smallRemove","smallDelete","smallPrice","inputValidation","input","value","hasAttribute","cardNumber","e","replace","isBackspace","key","length","test","preventDefault","split","reverse","join","trim","counter","contains","open","target","i","toggle"],"mappings":"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","file":"main.3835cd90.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst wrapper = document.querySelector('.page__wrapper');\nconst basketImg = document.querySelector('.basket__img');\nconst basket = document.querySelector('.basket');\nconst menuBasket = document.querySelector('.menu__basket');\nconst basketClose = document.querySelector('.basket__close');\nconst largePotOrder = document.querySelector('.basket__large--order');\nconst largeAdd = document.querySelector('.basket__large--add');\nconst largeRemove = document.querySelector('.basket__large--remove');\nconst largeDelete = document.querySelector('.basket__large--delete');\nconst largePrice = document.querySelector('.basket__large--unit-price');\nconst largeSum = document.querySelector('.basket__large--total-price');\nconst basketSum = document.querySelector('.basket__sum');\nconst menuBasketNumb = document.querySelector('.menu__basket--quantity');\nconst checkoutButton = document.querySelector('.basket__checkout');\nconst checkoutPage = document.querySelector('.checkout');\nconst checkoutClose = document.querySelector('.checkout__close');\n\nmenuBasketNumb.textContent = menuBasketNumb.dataset.number;\n\nconst checkoutAmount = document.querySelector('.checkout__amount');\nconst checkoutSubmit = document.querySelector('.checkout__submit');\nconst succesfullPayment = document.getElementById('succesfullPayment');\nconst inputsCheckout = [ ...document.querySelectorAll('.formInput') ];\nconst succesfullClose = document.querySelector('.succesfullPayment__close');\nconst checkoutForm = document.querySelector('.checkout__content');\nconst homePageButton = document.querySelector('.home-page__button');\nconst benefitsButton = document.querySelector('.benefits__button');\nconst materialsOpen = document.querySelector('.materials__opensInfo');\nconst aboutBobbiny\n  = [ ...document.querySelectorAll('.materials__about-bobbiny') ];\n\nfunction openingPage(page) {\n  page.classList.add('dropdownPage--active');\n  wrapper.classList.add('page__wrapper--background');\n}\n\nfunction closingPage(page) {\n  page.classList.remove('dropdownPage--active');\n  wrapper.classList.remove('page__wrapper--background');\n}\n\n// открытие - закрытие корзины //\nbasketImg.addEventListener('click', (ev) => {\n  openingPage(basket);\n});\n\nmenuBasket.addEventListener('click', (ev) => {\n  openingPage(basket);\n});\n\nhomePageButton.addEventListener('click', (ev) => {\n  openingPage(basket);\n});\n\nbenefitsButton.addEventListener('click', (ev) => {\n  openingPage(basket);\n});\n\nbasketClose.addEventListener('click', (ev) => {\n  closingPage(basket);\n});\n\n// large POT //\nlargePotOrder.textContent = largePotOrder.dataset.order;\nlargePrice.textContent = '$ ' + largePrice.dataset.price;\nlargeSum.textContent = '$ ' + 0;\n\nfunction findValues() {\n  basketSum.dataset.sum\n    = (+smallSum.dataset.sum + +largeSum.dataset.sum).toFixed(2);\n  basketSum.textContent = '$ ' + basketSum.dataset.sum;\n\n  menuBasketNumb.dataset.number\n    = +smallPotOrder.dataset.quantity + +largePotOrder.dataset.quantity;\n  menuBasketNumb.textContent = menuBasketNumb.dataset.number;\n  checkoutAmount.dataset.amount = basketSum.dataset.sum;\n  checkoutAmount.textContent = 'USD ' + checkoutAmount.dataset.amount;\n}\n\nfunction letCalcOrder(x, y) {\n  if (document.documentElement.scrollWidth >= 768) {\n    x.dataset.order = x.dataset.quantity + ' ORDER';\n  } else {\n    x.dataset.order = x.dataset.quantity;\n  };\n\n  x.textContent = x.dataset.order;\n  y.dataset.sum = (largePrice.dataset.price * x.dataset.quantity).toFixed(2);\n  y.textContent = '$ ' + y.dataset.sum;\n  findValues();\n\n  if (document.documentElement.scrollWidth >= 768) {\n    smallPotOrder.dataset.order = smallPotOrder.dataset.quantity + ' ORDER';\n  } else {\n    smallPotOrder.dataset.order = smallPotOrder.dataset.quantity;\n  }\n\n  if (menuBasketNumb.dataset.number === '0') {\n    checkoutButton.setAttribute('disabled', 'disabled');\n  } else {\n    checkoutButton.removeAttribute('disabled');\n  }\n};\n\nlargeAdd.addEventListener('click', (ev) => {\n  largePotOrder.dataset.quantity = +largePotOrder.dataset.quantity + 1;\n  letCalcOrder(largePotOrder, largeSum);\n});\n\nlargeRemove.addEventListener('click', (ev) => {\n  if (largePotOrder.dataset.quantity === '0') {\n    largeSum.textContent = '$ ' + 0;\n  } else {\n    largePotOrder.dataset.quantity = +largePotOrder.dataset.quantity - 1;\n    letCalcOrder(largePotOrder, largeSum);\n  }\n});\n\nlargeDelete.addEventListener('click', (ev) => {\n  largePotOrder.dataset.quantity = 0;\n  letCalcOrder(largePotOrder, largeSum);\n});\n\n// small POT //\nconst smallPotOrder = document.querySelector('.basket__small--order');\nconst smallAdd = document.querySelector('.basket__small--add');\nconst smallRemove = document.querySelector('.basket__small--remove');\nconst smallDelete = document.querySelector('.basket__small--delete');\nconst smallPrice = document.querySelector('.basket__small--unit-price');\nconst smallSum = document.querySelector('.basket__small--total-price');\n\nsmallPotOrder.textContent = smallPotOrder.dataset.order;\nsmallPrice.textContent = '$ ' + smallPrice.dataset.price;\nsmallSum.textContent = '$ ' + 0;\n\nsmallAdd.addEventListener('click', (ev) => {\n  smallPotOrder.dataset.quantity = +smallPotOrder.dataset.quantity + 1;\n  letCalcOrder(smallPotOrder, smallSum);\n});\n\nsmallRemove.addEventListener('click', (ev) => {\n  if (smallPotOrder.dataset.quantity === '0') {\n    smallSum.textContent = '$ ' + 0;\n  } else {\n    smallPotOrder.dataset.quantity = +smallPotOrder.dataset.quantity - 1;\n    letCalcOrder(smallPotOrder, smallSum);\n  }\n});\n\nsmallDelete.addEventListener('click', (ev) => {\n  smallPotOrder.dataset.quantity = 0;\n  letCalcOrder(smallPotOrder, smallSum);\n});\n\n// checkout открытие и закрытие //\ncheckoutButton.addEventListener('click', (ev) => {\n  if (!checkoutButton.hasAttribute('disabled')) {\n    basket.classList.remove('dropdownPage--active');\n    checkoutPage.classList.add('dropdownPage--active');\n  }\n});\n\ncheckoutClose.addEventListener('click', (ev) => {\n  closingPage(checkoutPage);\n});\n\n// валидация заполнения форм checkot //\nfunction inputValidation() {\n  for (const input of [...inputsCheckout]) {\n    input.classList.remove('checkout__input-form--invalid');\n\n    if (!input.value) {\n      input.classList.add('checkout__input-form--invalid');\n    }\n  }\n}\n\nconst cardNumber = document.querySelector('.checkout__cardInfo--number');\n\ncardNumber.addEventListener('keydown', function(e) {\n  const value = this.value.replace(/\\s+/g, '');\n  const isBackspace = e.key === 'Backspace';\n\n  if ((e.key.length === 1 && /^[^\\d\\s]+$/.test(e.key))\n    || (!isBackspace && value.length === 16)) {\n    e.preventDefault();\n\n    return false;\n  }\n\n  this.value = value.split('').reverse().join('')\n    .replace(/\\B(?=(\\d{4})+(?!\\d))/g, ' ').split('').reverse().join('').trim();\n});\n\nlet counter = 0;\n\ncheckoutSubmit.addEventListener('click', (ev) => {\n  counter = 0;\n  inputValidation();\n\n  for (const input of [...inputsCheckout]) {\n    if (input.classList.contains('checkout__input-form--invalid')) {\n      counter++;\n    }\n  };\n\n  if (counter === 0) {\n    closingPage(checkoutPage);\n  }\n});\n\nif (checkoutForm.addEventListener('submit', (ev) => {\n  succesfullPayment.classList.add('succesfullPayment--active');\n  wrapper.classList.add('page__wrapper--background');\n})) {\n  ;\n}\n\nsuccesfullClose.addEventListener('click', (ev) => {\n  succesfullPayment.classList.remove('succesfullPayment--active');\n  wrapper.classList.remove('page__wrapper--background');\n});\n\nmaterialsOpen.addEventListener('click', (ev) => {\n  const open = ev.target;\n  const i = open.dataset.open;\n\n  aboutBobbiny[i - 1].classList.toggle('materials__about-bobbiny--active');\n  open.classList.toggle('materials__open--active');\n});\n\nif (document.documentElement.scrollWidth < 768) {\n  largePotOrder.textContent = 0;\n  smallPotOrder.textContent = 0;\n}\n"]}